{
    "collab_server" : "",
    "contents" : "\n# This is the user-interface definition of a Shiny web application.\n# You can find out more about building applications with Shiny here:\n#\n# http://shiny.rstudio.com\n#\n\nlibrary(dplyr)\nlibrary(DT)\nlibrary(shiny)\nlibrary(shinyjs)\nlibrary(shinyBS)\n\nload(\"data/data.rdata\")\n\nNUM_PAGES <- 5\n\nui <- fluidPage(\n  useShinyjs(),\n  shinyjs::hidden(\n    lapply(seq(NUM_PAGES), function(i) {\n      div(\n        class = \"page\",\n        id = paste0(\"step\", i),\n        \"Step\", i\n      )\n    })\n  ),\n  br(),\n  selectInput(inputId = 'value', label = 'Prioritization/nScheme', choices = list(\n    \"Prevent Extinction\" = 'global_rank_2', \n    \"Minimize Listing\" = 'federal_status',\n    \"Minimize Expenditures\" = 'total_exp',\n    \"Protect Ecosystems\" = 'plan_date'\n  )),\n  br(),\n  verbatimTextOutput('species'),\n  dataTableOutput('rankedtable'),\n  br(),\n  actionButton(\"prevBtn\", \"< Previous\"),\n  actionButton(\"nextBtn\", \"Next >\")\n)\n\nserver <- function(input, output, session) {\n  rv <- reactiveValues(page = 1)\n  \n  observe({\n    shinyjs::toggleState(id = \"prevBtn\", condition = rv$page > 1)\n    shinyjs::toggleState(id = \"nextBtn\", condition = rv$page < NUM_PAGES)\n    shinyjs::hide(selector = \".page\")\n    shinyjs::show(paste0(\"step\", rv$page))\n  })\n  \n  \n  navPage <- function(direction) {\n    rv$page <- rv$page + direction\n  }\n  \n  observeEvent(input$prevBtn, navPage(-1))\n  observeEvent(input$nextBtn, navPage(1))\n  \n  makedf <- function(criteria){\n    dplyr::arrange_(TX_species, criteria)#%>%\n    #dplyr::mutate(Rank = rep(1:5, each = nrow(TX_species)/5), Weight = 1/Rank)\n  }\n  \n  output$rankedtable <- renderDataTable(makedf(input$value), selection = 'multiple')\n  \n  species <- reactiveValues()\n  observeEvent(input$rankedtable_rows_selected,\n               {rows <- input$rankedtable_rows_selected\n               species <- TX_species$scientific_name[rows]}\n  )\n  output$species <- renderPrint({paste(species)})\n}\n\nshinyApp(ui, server)\n",
    "created" : 1513787566088.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3200960818",
    "id" : "56B74FDA",
    "lastKnownWriteTime" : 1513879197,
    "last_content_update" : 1513879197147,
    "path" : "C:/Users/mevans/repos/TX_priorities/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}